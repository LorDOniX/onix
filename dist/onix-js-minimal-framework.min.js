/**
 * OnixJS framework
 * 2.5.2/16. 5. 2016
 * source: https://gitlab.com/LorDOniX/onix
 * documentation: https://gitlab.com/LorDOniX/onix/tree/master/docs
 * minimal version: contains [polyfills, onix, filter, q, common]
 * @license MIT
 * - Free for use in both personal and commercial projects
 */
if(function(){Event=Event||window.Event,Event.prototype.stopPropagation=Event.prototype.stopPropagation||function(){this.cancelBubble=!0},Event.prototype.preventDefault=Event.prototype.preventDefault||function(){this.returnValue=!1}}(),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var n=this.length,r=0;n>r;r++)r in this&&t.call(e,this[r],r,this)}),Array.prototype.every||(Array.prototype.every=function(t,e){for(var n=this.length,r=0;n>r;r++)if(r in this&&!t.call(e,this[r],r,this))return!1;return!0}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n=this.length,r=e||0;for(0>r&&(r+=n);n>r;r++)if(r in this&&this[r]===t)return r;return-1}),!("console"in window)){var emptyFn=function(){};window.console={},["log","warn","error","clear","info"].forEach(function(t){window.console[t]=emptyFn})}if(Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,s,c=[];for(o in i)t.call(i,o)&&c.push(o);if(e)for(s=0;r>s;s++)t.call(i,n[s])&&c.push(n[s]);return c}}()),function(){if(navigator.appVersion.indexOf("MSIE 8")>0){var t=Array.prototype.slice;Array.prototype.slice=function(){if(this instanceof Array)return t.apply(this,arguments);for(var e=[],n=arguments.length>=1?arguments[0]:0,r=arguments.length>=2?arguments[1]:this.length,i=n;r>i;i++)e.push(this[i]);return e}}}(),Object.create||(Object.create=function(t){if(arguments.length>1)throw new Error("Object.create polyfill only accepts the first parameter");var e=function(){};return e.prototype=t,new e}),Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,n=Array.prototype.slice.call(arguments,1);return function(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments)))}}),!("addEventListener"in document)){var w=Window.prototype,h=HTMLDocument.prototype,e=Element.prototype;w.addEventListener=h.addEventListener=e.addEventListener=function(t,e){if("DOMContentLoaded"==t)document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&e()});else{var n=this;this.attachEvent("on"+t,function(){return e.apply(n,arguments)})}},w.removeEventListener=h.removeEventListener=e.removeEventListener=function(t,e){return this.detachEvent("on"+t,e)}}"classList"in document.documentElement||!window.Element||!function(){function t(t){if(this._element=t,t.className!=this._classCache&&(this._classCache=t.className,this._classCache))for(var e=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/),n=0;n<e.length;n++)s.call(this,e[n])}function e(t,e){t.className=e.join(" ")}function n(t,e,n){Object.defineProperty?Object.defineProperty(t,e,{get:n}):t.__defineGetter__(e,n)}var r=Array.prototype,i=r.indexOf,o=r.slice,s=r.push,c=r.splice,a=r.join;window.DOMTokenList=t,t.prototype={add:function(t){this.contains(t)||(s.call(this,t),e(this._element,o.call(this,0)))},contains:function(t){return-1!=i.call(this,t)},item:function(t){return this[t]||null},remove:function(t){var n=i.call(this,t);-1!=n&&(c.call(this,n,1),e(this._element,o.call(this,0)))},toString:function(){return a.call(this," ")},toggle:function(t){return-1==i.call(this,t)?(this.add(t),!0):(this.remove(t),!1)}},n(Element.prototype,"classList",function(){return new t(this)})}(),onix=function(){var t=function(t,e){this._objects={},this._runs=[],this._configs=[],this._name=t||"",this._dependencies=e||[]};t.CONST={PROVIDER_NAME:"Provider",FILTER_NAME:"$filter",TYPE:{PROVIDER:1,SERVICE:2,FACTORY:3,CONSTANT:4,VALUE:5,FILTER:6,CONFIG:7,RUN:8}},t.parseParam=function(t){var e,n=[];return Array.isArray(t)?t.every(function(t){return"function"==typeof t?(e=t,!1):("string"==typeof t&&n.push(t),!0)},this):e=t,{fn:e,inject:n}},t.getFilterName=function(e){return e=e||"",t.CONST.FILTER_NAME+e[0].toUpperCase()+e.substr(1,e.length-1)},t.prototype.getDependencies=function(){return this._dependencies},t.prototype.getName=function(){return this._name},t.prototype.getConfigs=function(){return this._configs},t.prototype.getRuns=function(){return this._runs},t.prototype.getObjects=function(){return this._objects},t.prototype.provider=function(e,n){if(!e||!n)return this;var r=t.parseParam(n);return this._objects[e+t.CONST.PROVIDER_NAME]={name:e+t.CONST.PROVIDER_NAME,inject:r.inject,fn:r.fn,cache:null,type:t.CONST.TYPE.PROVIDER},this._objects[e]={name:e,inject:null,fn:null,cache:null,provider:e+t.CONST.PROVIDER_NAME,type:t.CONST.TYPE.FACTORY},this},t.prototype.service=function(e,n){if(!e||!n)return this;var r=t.parseParam(n);return this._objects[e]={name:e,inject:r.inject,fn:r.fn,cache:null,type:t.CONST.TYPE.SERVICE},this},t.prototype.factory=function(e,n){if(!e||!n)return this;var r=t.parseParam(n);return this._objects[e]={name:e,inject:r.inject,fn:r.fn,cache:null,type:t.CONST.TYPE.FACTORY},this},t.prototype.constant=function(e,n){return e&&n?(this._objects[e]={name:e,cache:n,type:t.CONST.TYPE.CONSTANT},this):this},t.prototype.value=function(e,n){return e&&n?(this._objects[e]={name:e,cache:n,type:t.CONST.TYPE.VALUE},this):this},t.prototype.filter=function(e,n){if(!e||!n)return this;var r=t.parseParam(n);return this._objects[t.getFilterName(e)]={name:e,inject:r.inject,fn:r.fn,cache:null,type:t.CONST.TYPE.FILTER},this},t.prototype.config=function(e){if(!e)return this;var n=t.parseParam(e);return this._configs.push({fn:n.fn,inject:n.inject,type:t.CONST.TYPE.CONFIG}),this},t.prototype.run=function(e){if(!e)return this;var n=t.parseParam(e);return this._runs.push({fn:n.fn,inject:n.inject,type:t.CONST.TYPE.RUN}),this};var e={_modules:[],_modulesObj:{},_CONST:{MODULE_SEPARATOR:"::"},_noop:function(){},domLoad:function(){var t=[],e=[];this._modules.forEach(function(n){var r=!1,i=n.getDependencies();i.every(function(t){return t in this._modulesObj?!0:(console.error("Module '"+this._name+"' dependency '"+t+"' not found!"),r=!0,!1)},this),r||(t=t.concat(n.getConfigs()),e=e.concat(n.getRuns()))},this),t.forEach(function(t){this.run(t,!0)},this),e.forEach(function(t){this.run(t)},this)},_getObject:function(t){var e=null,n="",r="";if(-1!=t.indexOf(this._CONST.MODULE_SEPARATOR)){var i=t.split(this._CONST.MODULE_SEPARATOR);if(2!=i.length)return console.error("Get object "+t+" error! Wrong module separator use."),null;n=i[0],r=i[1]}else r=t;return this._modules.every(function(t){var i=t.getObjects();return n?t.getName()!=n?!0:r in i?(e=i[r],!1):(console.error("Get object "+r+" error! Cannot find object in the module "+n+"."),!1):r in i?(e=i[r],!1):!0}),e},run:function(e,n,r){if(r=r||[],-1!=r.indexOf(e.name))return console.error("Circular dependency error! Object name: "+e.name+", parents: "+r.join("|")),null;var i=[];if(e.provider){var o=this._getObject(e.provider);if(!o.cache){var s=o.fn||this._noop;o.cache=new s}var c=o.cache.$get||this._noop,a=t.parseParam(c);e.fn=a.fn,e.inject=a.inject,delete e.provider}if(e.inject&&e.inject.length&&e.inject.forEach(function(t){if("string"==typeof t){var o=this._getObject(t);o?i.push(this.run(o,n,e.name?r.concat(e.name):r)):(console.error("Object name: "+t+" not found!"),i.push(null))}else"object"==typeof t&&i.push(t)},this),n)switch(e.type){case t.CONST.TYPE.PROVIDER:if(!e.cache){var u=e.fn||this._noop;e.cache=new u}return e.cache;case t.CONST.TYPE.CONSTANT:return e.cache;case t.CONST.TYPE.CONFIG:var u=e.fn||this._noop;return u.apply(u,i);default:return null}else switch(e.type){case t.CONST.TYPE.FACTORY:case t.CONST.TYPE.FILTER:if(!e.cache){var u=e.fn||this._noop;e.cache=u.apply(u,i)}return e.cache;case t.CONST.TYPE.SERVICE:if(!e.cache){var u=e.fn||this._noop,h=Object.create(u.prototype);u.apply(h,i),e.cache=h}return e.cache;case t.CONST.TYPE.VALUE:return e.cache;case t.CONST.TYPE.CONSTANT:return e.cache;case t.CONST.TYPE.RUN:var u=e.fn||this._noop;return u.apply(u,i);default:return null}},addModule:function(e,n){var r=new t(e,n);return this._modulesObj[e]=r,this._modules.push(r),r}};document.addEventListener("DOMContentLoaded",e.domLoad.bind(e));var n=e.addModule("onix");return n.module=function(t,n){return e.addModule(t,n)},n.noop=function(){},n.info=function(){console.log("OnixJS framework\n2.5.2/16. 5. 2016\nsource: https://gitlab.com/LorDOniX/onix\ndocumentation: https://gitlab.com/LorDOniX/onix/tree/master/docs\n@license MIT\n* - Free for use in both personal and commercial projects\n")},n.factory("$di",function(){return{parseParam:t.parseParam,getFilterName:t.getFilterName,run:function(n){return n?(n.fn||(n.fn=function(){}),n.type=t.CONST.TYPE.RUN,e.run(n)):null}}}),n}(),onix.factory("$filter",["$di",function(t){var e=function(t){return t||""};return function(n){return n?(n=t.getFilterName(n),t.run({fn:function(t){return t||e},inject:[n]})):e}}]),onix.factory("$q",function(){var t=function(){this._STATES={IDLE:0,RESOLVED:1,REJECTED:2},this._state=this._STATES.IDLE,this._funcs=[],this._finishData=null};return t.prototype._resolveFuncs=function(t){this._funcs.forEach(function(e){(e["finally"]||e.isError&&t||!e.isError&&!t)&&e.fn(this._finishData)},this),this._funcs.length=0,this._state=t?this._STATES.REJECTED:this._STATES.RESOLVED},t.prototype._isAlreadyFinished=function(){this._state!=this._STATES.IDLE&&this._resolveFuncs(this._state==this._STATES.REJECTED)},t.prototype.resolve=function(t){this._finishData=t,this._resolveFuncs(!1)},t.prototype.reject=function(t){this._finishData=t,this._resolveFuncs(!0)},t.prototype.then=function(t,e){return t&&"function"==typeof t&&this._funcs.push({fn:t,isError:!1}),e&&"function"==typeof e&&this._funcs.push({fn:e,isError:!0}),this._isAlreadyFinished(),this},t.prototype.done=function(t){return this._funcs.push({fn:t,isError:!1}),this._isAlreadyFinished(),this},t.prototype.error=function(t){return this._funcs.push({fn:t,isError:!0}),this._isAlreadyFinished(),this},t.prototype["finally"]=function(t){return this._funcs.push({fn:t,"finally":!0}),this._isAlreadyFinished(),this},{all:function(e){var n=new t;if(Array.isArray(e)){var r=e.length,i=function(){r--,0==r&&n.resolve()};e.forEach(function(t){t["finally"](i)})}else n.resolve();return n},defer:function(){return new t},isPromise:function(e){return e instanceof t}}}),onix.service("$common",["$q",function(t){this._objCopy=function(t,e){Object.keys(e).forEach(function(n){if(e.hasOwnProperty(n)){var r=e[n],i=typeof r;if(Array.isArray(r)){var o=[];r.forEach(function(t){o.push(t)}),t[n]=o}else r&&"object"===i?(n in t||(t[n]={}),this._objCopy(t[n],r)):t[n]=r}}.bind(this))},this.getCookie=function(t){var e=null;if(document.cookie&&""!=document.cookie){var n=document.cookie.split(";");n.every(function(n){return n=n.trim(),n.substring(0,t.length+1)==t+"="?(e=decodeURIComponent(n.substring(t.length+1)),!1):!0})}return e},this.confirm=function(e){var n=t.defer();return confirm(e)?n.resolve():n.reject(),n},this.merge=function(){var t=arguments.length,e={};if(t>0)for(var n=0;t>n;n++){var r=arguments[n];this._objCopy(e,r)}return e},this.extend=function(t,e){t=t||{},e=e||{},this._objCopy(t,e)},this.bindWithoutScope=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=Array.prototype.slice.call(arguments,0),r=Array.prototype.concat(n,e);return t.apply(this,r)}},this.nodesForEach=function(t,e,n){e=e||function(){},t&&Array.prototype.slice.call(t).forEach(function(t,r){e.apply(n||e,[t,r])})},this.reverseForEach=function(t,e,n){t=t||[],e=e||function(){};for(var r=t.length-1;r>=0;r--)e.apply(n||this,[t[r],r])},this.hxToDe=function(t){switch(t=t.toLowerCase()){case"a":return 10;case"b":return 11;case"c":return 12;case"d":return 13;case"e":return 14;case"f":return 15;default:return parseInt(t,10)}},this.hexToRGB=function(t){return"#"==t[0]?(t=t.replace("#",""),3==t.length?{r:16*this.hxToDe(t[0])+this.hxToDe(t[0]),g:16*this.hxToDe(t[1])+this.hxToDe(t[1]),b:16*this.hxToDe(t[2])+this.hxToDe(t[2])}:{r:16*this.hxToDe(t[0])+this.hxToDe(t[1]),g:16*this.hxToDe(t[2])+this.hxToDe(t[3]),b:16*this.hxToDe(t[4])+this.hxToDe(t[5])}):t},this.isElement=function(t){return t instanceof HTMLElement},this.isObject=function(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t},this.col=function(){var t=Array.prototype.slice.call(arguments),e="",n={};t.forEach(function(t,r){0==r?e=t:n["[{]"+(r-1)+"[}]"]=t}),Object.keys(n).forEach(function(t){e=e.replace(new RegExp(t,"g"),n[t])}),e&&console.log(e)},this.humanLength=function(t){t=t||0;var e=t/1024,n=t/1048576;return 1024>e?e.toFixed(2)+" KB":n.toFixed(2)+" MB"},this.chainPromises=function(e){var n=t.defer();return this._chainPromisesInner(e,n,[]),n},this._chainPromisesInner=function(t,e,n){var r=t.shift();if(r){var i,o=!1;switch(typeof r.method){case"string":r.scope&&r.method in r.scope?(i=r.scope[r.method],"function"!=typeof i&&(o=!0)):o=!0;break;case"function":i=r.method;break;default:o=!0}o?e.resolve(n):i.apply(r.scope||i,r.args||[]).then(function(r){n.push(r),this._chainPromisesInner(t,e,n)}.bind(this),function(r){n.push(r),this._chainPromisesInner(t,e,n)}.bind(this))}else e.resolve(n)}}]);