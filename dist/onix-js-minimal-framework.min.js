/**
 * OnixJS framework
 * 2.6.1/14. 6. 2016
 * source: https://gitlab.com/LorDOniX/onix
 * documentation: https://gitlab.com/LorDOniX/onix/tree/master/docs
 * minimal version: contains [libs/polyfills.js, onix/onix.js, onix/filter.js]
 * @license MIT
 * - Free for use in both personal and commercial projects
 */
if(function(){Event=Event||window.Event,Event.prototype.stopPropagation=Event.prototype.stopPropagation||function(){this.cancelBubble=!0},Event.prototype.preventDefault=Event.prototype.preventDefault||function(){this.returnValue=!1}}(),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var n=this.length,r=0;n>r;r++)r in this&&t.call(e,this[r],r,this)}),Array.prototype.every||(Array.prototype.every=function(t,e){for(var n=this.length,r=0;n>r;r++)if(r in this&&!t.call(e,this[r],r,this))return!1;return!0}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n=this.length,r=e||0;for(0>r&&(r+=n);n>r;r++)if(r in this&&this[r]===t)return r;return-1}),!("console"in window)){var emptyFn=function(){};window.console={},["log","warn","error","clear","info"].forEach(function(t){window.console[t]=emptyFn})}if(Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var i,c,a=[];for(i in o)t.call(o,i)&&a.push(i);if(e)for(c=0;r>c;c++)t.call(o,n[c])&&a.push(n[c]);return a}}()),function(){if(navigator.appVersion.indexOf("MSIE 8")>0){var t=Array.prototype.slice;Array.prototype.slice=function(){if(this instanceof Array)return t.apply(this,arguments);for(var e=[],n=arguments.length>=1?arguments[0]:0,r=arguments.length>=2?arguments[1]:this.length,o=n;r>o;o++)e.push(this[o]);return e}}}(),Object.create||(Object.create=function(t){if(arguments.length>1)throw new Error("Object.create polyfill only accepts the first parameter");var e=function(){};return e.prototype=t,new e}),Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,n=Array.prototype.slice.call(arguments,1);return function(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments)))}}),!("addEventListener"in document)){var w=Window.prototype,h=HTMLDocument.prototype,e=Element.prototype;w.addEventListener=h.addEventListener=e.addEventListener=function(t,e){if("DOMContentLoaded"==t)document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&e()});else{var n=this;this.attachEvent("on"+t,function(){return e.apply(n,arguments)})}},w.removeEventListener=h.removeEventListener=e.removeEventListener=function(t,e){return this.detachEvent("on"+t,e)}}"classList"in document.documentElement||!window.Element||!function(){function t(t){if(this._element=t,t.className!=this._classCache&&(this._classCache=t.className,this._classCache))for(var e=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/),n=0;n<e.length;n++)c.call(this,e[n])}function e(t,e){t.className=e.join(" ")}function n(t,e,n){Object.defineProperty?Object.defineProperty(t,e,{get:n}):t.__defineGetter__(e,n)}var r=Array.prototype,o=r.indexOf,i=r.slice,c=r.push,a=r.splice,s=r.join;window.DOMTokenList=t,t.prototype={add:function(t){this.contains(t)||(c.call(this,t),e(this._element,i.call(this,0)))},contains:function(t){return-1!=o.call(this,t)},item:function(t){return this[t]||null},remove:function(t){var n=o.call(this,t);-1!=n&&(a.call(this,n,1),e(this._element,i.call(this,0)))},toString:function(){return s.call(this," ")},toggle:function(t){return-1==o.call(this,t)?(this.add(t),!0):(this.remove(t),!1)}},n(Element.prototype,"classList",function(){return new t(this)})}(),Date.now||(Date.now=function(){return+new Date}),onix=function(){var t=function(t,e){this._objects={},this._runs=[],this._configs=[],this._name=t||"",this._dependencies=e||[]};t.CONST={PROVIDER_NAME:"Provider",FILTER_NAME:"$filter",TYPE:{PROVIDER:1,SERVICE:2,FACTORY:3,CONSTANT:4,VALUE:5,FILTER:6,CONFIG:7,RUN:8}},t.parseParam=function(t){var e,n=[];return Array.isArray(t)?t.every(function(t){return"function"==typeof t?(e=t,!1):("string"==typeof t&&n.push(t),!0)},this):e=t,{fn:e,inject:n}},t.getFilterName=function(e){return e=e||"",t.CONST.FILTER_NAME+e[0].toUpperCase()+e.substr(1,e.length-1)},t.prototype.getDependencies=function(){return this._dependencies},t.prototype.getName=function(){return this._name},t.prototype.getConfigs=function(){return this._configs},t.prototype.getRuns=function(){return this._runs},t.prototype.getObjects=function(){return this._objects},t.prototype.provider=function(e,n){if(!e||!n)return this;var r=t.parseParam(n);return this._objects[e+t.CONST.PROVIDER_NAME]={name:e+t.CONST.PROVIDER_NAME,inject:r.inject,fn:r.fn,cache:null,type:t.CONST.TYPE.PROVIDER},this._objects[e]={name:e,inject:null,fn:null,cache:null,provider:e+t.CONST.PROVIDER_NAME,type:t.CONST.TYPE.FACTORY},this},t.prototype.service=function(e,n){if(!e||!n)return this;var r=t.parseParam(n);return this._objects[e]={name:e,inject:r.inject,fn:r.fn,cache:null,type:t.CONST.TYPE.SERVICE},this},t.prototype.factory=function(e,n){if(!e||!n)return this;var r=t.parseParam(n);return this._objects[e]={name:e,inject:r.inject,fn:r.fn,cache:null,type:t.CONST.TYPE.FACTORY},this},t.prototype.constant=function(e,n){return e&&n?(this._objects[e]={name:e,cache:n,type:t.CONST.TYPE.CONSTANT},this):this},t.prototype.value=function(e,n){return e&&n?(this._objects[e]={name:e,cache:n,type:t.CONST.TYPE.VALUE},this):this},t.prototype.filter=function(e,n){if(!e||!n)return this;var r=t.parseParam(n);return this._objects[t.getFilterName(e)]={name:e,inject:r.inject,fn:r.fn,cache:null,type:t.CONST.TYPE.FILTER},this},t.prototype.config=function(e){if(!e)return this;var n=t.parseParam(e);return this._configs.push({fn:n.fn,inject:n.inject,type:t.CONST.TYPE.CONFIG}),this},t.prototype.run=function(e){if(!e)return this;var n=t.parseParam(e);return this._runs.push({fn:n.fn,inject:n.inject,type:t.CONST.TYPE.RUN}),this},t.prototype.controller=function(){return this},t.prototype.directive=function(){return this};var e=function(){this._modules=[],this._modulesObj={},this._CONST={MODULE_SEPARATOR:"::"},document.addEventListener("DOMContentLoaded",this._domLoad.bind(this))};e.prototype._domLoad=function(){var t=[],e=[];this._modules.forEach(function(n){var r=!1,o=n.getDependencies();o.every(function(t){return t in this._modulesObj?!0:(console.error("Module '"+this._name+"' dependency '"+t+"' not found!"),r=!0,!1)},this),r||(t=t.concat(n.getConfigs()),e=e.concat(n.getRuns()))},this),t.forEach(function(t){this.run(t,!0)},this),e.forEach(function(t){this.run(t)},this)},e.prototype._getObject=function(t){var e=null,n="",r="";if(-1!=t.indexOf(this._CONST.MODULE_SEPARATOR)){var o=t.split(this._CONST.MODULE_SEPARATOR);if(2!=o.length)return console.error("Get object "+t+" error! Wrong module separator use."),null;n=o[0],r=o[1]}else r=t;return this._modules.every(function(t){var o=t.getObjects();return n?t.getName()!=n?!0:r in o?(e=o[r],!1):(console.error("Get object "+r+" error! Cannot find object in the module "+n+"."),!1):r in o?(e=o[r],!1):!0}),e},e.prototype.noop=function(){},e.prototype.run=function(e,n,r){if(r=r||[],-1!=r.indexOf(e.name))return console.error("Circular dependency error! Object name: "+e.name+", parents: "+r.join("|")),null;var o=[];if(e.provider){var i=this._getObject(e.provider);if(!i.cache){var c=i.fn||this.noop;i.cache=new c}var a=i.cache.$get||this.noop,s=t.parseParam(a);e.fn=s.fn,e.inject=s.inject,delete e.provider}if(e.inject&&e.inject.length&&e.inject.forEach(function(t){if("string"==typeof t){var i=this._getObject(t);i?o.push(this.run(i,n,e.name?r.concat(e.name):r)):(console.error("Object name: "+t+" not found!"),o.push(null))}else"object"==typeof t&&o.push(t)},this),n)switch(e.type){case t.CONST.TYPE.PROVIDER:if(!e.cache){var u=e.fn||this.noop;e.cache=new u}return e.cache;case t.CONST.TYPE.CONSTANT:return e.cache;case t.CONST.TYPE.CONFIG:var u=e.fn||this.noop;return u.apply(u,o);default:return null}else switch(e.type){case t.CONST.TYPE.FACTORY:case t.CONST.TYPE.FILTER:if(!e.cache){var u=e.fn||this.noop;e.cache=u.apply(u,o)}return e.cache;case t.CONST.TYPE.SERVICE:if(!e.cache){var u=e.fn||this.noop,p=Object.create(u.prototype);u.apply(p,o),e.cache=p}return e.cache;case t.CONST.TYPE.VALUE:return e.cache;case t.CONST.TYPE.CONSTANT:return e.cache;case t.CONST.TYPE.RUN:var u=e.fn||this.noop;return u.apply(u,o);default:return null}},e.prototype.addModule=function(e,n){var r=new t(e,n);return this._modulesObj[e]=r,this._modules.push(r),r};var n=new e,r=n.addModule("onix");return r.module=function(t,e){return n.addModule(t,e)},r.noop=n.noop,r.info=function(){console.log("OnixJS framework\n2.6.1/14. 6. 2016\nsource: https://gitlab.com/LorDOniX/onix\ndocumentation: https://gitlab.com/LorDOniX/onix/tree/master/docs\n@license MIT\n- Free for use in both personal and commercial projects\n")},r.factory("$di",function(){return{parseParam:t.parseParam,getFilterName:t.getFilterName,run:function(e){return e?(e.fn||(e.fn=function(){}),e.type=t.CONST.TYPE.RUN,n.run(e)):null}}}),r}(),onix.factory("$filter",["$di",function(t){return function(e){var n=function(t){return t||""};return e?(e=t.getFilterName(e),t.run({fn:function(t){return t||n},inject:[e]})):n}}]);