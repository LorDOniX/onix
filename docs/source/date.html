<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='$date'>/**
</span> * Date operations.
 * 
 * @class $date
 */
onix.service(&quot;$date&quot;, function() {
<span id='$date-method-dateENtoCS'>	/**
</span>	 * Parse EN date to CS format.
	 * year-month-day -&gt; day. month. year
	 * 2016-06-31 -&gt; 31. 6. 2016
	 * 
	 * @param {String} enDate
	 * @return {String}
	 * @member $date
	 */
	this.dateENtoCS = function(enDate) {
		enDate = enDate || &quot;&quot;;

		var parts = enDate.split(&quot;-&quot;);

		if (parts.length == 3) {
			// delete first 0
			return [parts[2].replace(/^0/, &quot;&quot;), parts[1].replace(/^0/, &quot;&quot;), parts[0]].join(&quot;. &quot;);
		}
		else return &quot;&quot;;
	};

<span id='$date-method-dateCStoEN'>	/**
</span>	 * Parse CS date to EN format.
	 * day. month. year -&gt; year-month-day
	 * 31. 6. 2016 -&gt; 2016-06-31
	 * 
	 * @param {String} csDate
	 * @return {String}
	 * @member $date
	 */
	this.dateCStoEN = function(csDate) {
		// day. month. year 31. 12. 2015
		csDate = csDate || &quot;&quot;;

		var parts = csDate.split(&quot;.&quot;);

		if (parts.length == 3) {
			var year = parts[2].trim();
			var month = parts[1].trim();
			var date = parts[0].trim();

			// add 0 from left
			date = date.length == 1 ? &quot;0&quot; + date : date;
			month = month.length == 1 ? &quot;0&quot; + month : month;

			return [year, month, date].join(&quot;-&quot;);
		}
		else return &quot;&quot;;
	};


<span id='$date-method-isCSdate'>	/**
</span>	 * Is string contains CS date format?
	 * 
	 * @param  {String} csDate
	 * @return {Boolean}
	 * @member $date
	 */
	this.isCSdate = function(csDate) {
		csDate = csDate || &quot;&quot;;

		return !!(csDate.match(/([1-9]|[1-3][0-9])\.[ ]*([1-9]|1[0-2])\.[ ]*[1-9][0-9]{3}/));
	};
});
</pre>
</body>
</html>
